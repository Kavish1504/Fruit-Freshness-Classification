schema: '2.0'
stages:
  data_ingestion:
    cmd: python -m src.cnnClassifier.pipeline.stage_01_data_ingestion
    deps:
    - path: config/config.yaml
      hash: md5
      md5: ea5b0879ef5742a2f9ed680caf311dd5
      size: 808
    - path: src/cnnClassifier/pipeline/stage_01_data_ingestion.py
      hash: md5
      md5: fd67b12286c5c85f44f6c9daf3ca1cd3
      size: 938
    outs:
    - path: artifacts/data_ingestion/Fruit Freshness Dataset
      hash: md5
      md5: d525ae8d68f840341b9c0cb677cd649d.dir
      size: 24474787
      nfiles: 335
  prepare_base_model:
    cmd: python -m src.cnnClassifier.pipeline.stage_02_prepare_base_model
    deps:
    - path: config/config.yaml
      hash: md5
      md5: ea5b0879ef5742a2f9ed680caf311dd5
      size: 808
    - path: src/cnnClassifier/pipeline/stage_02_prepare_base_model.py
      hash: md5
      md5: d4be501e9773ed010784bd416e958ebc
      size: 979
    params:
      params.yaml:
        CLASSES: 2
        IMAGE_SIZE:
        - 224
        - 224
        - 3
        INCLUDE_TOP: false
        LEARNING_RATE: 0.01
        WEIGHTS: imagenet
    outs:
    - path: artifacts/prepare_base_model
      hash: md5
      md5: 8da970a7c8d5d5f5c1cd194dee65c008.dir
      size: 117852144
      nfiles: 2
  training:
    cmd: python -m src.cnnClassifier.pipeline.stage_03_training
    deps:
    - path: artifacts/data_ingestion/Fruit Freshness Dataset
      hash: md5
      md5: d525ae8d68f840341b9c0cb677cd649d.dir
      size: 24474787
      nfiles: 335
    - path: artifacts/prepare_base_model
      hash: md5
      md5: 8da970a7c8d5d5f5c1cd194dee65c008.dir
      size: 117852144
      nfiles: 2
    - path: config/config.yaml
      hash: md5
      md5: ea5b0879ef5742a2f9ed680caf311dd5
      size: 808
    - path: src/cnnClassifier/components/prepare_callbacks.py
      hash: md5
      md5: bc8e47ef767935cc7a849db8dee633bd
      size: 996
    - path: src/cnnClassifier/pipeline/stage_03_training.py
      hash: md5
      md5: c5c420ecb3bc6a9d9297504685c0ed37
      size: 1167
    params:
      params.yaml:
        AUGMENTATION: true
        BATCH_SIZE: 16
        EPOCHS: 20
        IMAGE_SIZE:
        - 224
        - 224
        - 3
    outs:
    - path: artifacts/training/model.h5
      hash: md5
      md5: 42f62a447cc6472499eafaf51b1b9f3b
      size: 58942376
  evaluation:
    cmd: python -m src.cnnClassifier.pipeline.stage_04_evaluation
    deps:
    - path: artifacts/data_ingestion/Fruit Freshness Dataset
      hash: md5
      md5: d525ae8d68f840341b9c0cb677cd649d.dir
      size: 24474787
      nfiles: 335
    - path: artifacts/training/model.h5
      hash: md5
      md5: 42f62a447cc6472499eafaf51b1b9f3b
      size: 58942376
    - path: config/config.yaml
      hash: md5
      md5: ea5b0879ef5742a2f9ed680caf311dd5
      size: 808
    - path: src/cnnClassifier/pipeline/stage_04_evaluation.py
      hash: md5
      md5: 5e5d3b2794c78c63fe5c4810485054fb
      size: 756
    params:
      params.yaml:
        BATCH_SIZE: 16
        IMAGE_SIZE:
        - 224
        - 224
        - 3
    outs:
    - path: scores.json
      hash: md5
      md5: 32ba3f94ce436406e23f86bd2611a49d
      size: 73
